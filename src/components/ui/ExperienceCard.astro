---
interface Props {
  title: string;
  company: string;
  startDate: Date;
  endDate?: Date;
  description: string;
  current?: boolean;
}

const { title, company, startDate, endDate, description, current = false } = Astro.props;

const formatDate = (date: Date) => {
  return new Date(date).toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
};
---

<div class="border-l-2 border-[var(--accent)] pl-6 pb-8 relative">
  <div class="absolute -left-3 top-0 w-5 h-5 bg-[var(--accent)] rounded-full ring-4 ring-[var(--bg-primary)]"></div>
  
  <div class="flex flex-col gap-2">
    <div class="flex items-baseline gap-4 flex-wrap">
      <h3 class="font-heading text-lg font-semibold text-[var(--text-primary)]">{title}</h3>
      <p class="text-sm text-[var(--text-muted)]">{company}</p>
      {current && <span class="text-xs px-2.5 py-1 rounded-lg bg-[var(--accent-muted)] text-[var(--accent)] font-medium">Current</span>}
    </div>
    
    <p class="text-xs text-[var(--text-subtle)] font-medium">
      {formatDate(startDate)} â€“ {endDate ? formatDate(endDate) : 'Present'}
    </p>
    
    <p class="text-[var(--text-muted)] mt-2 leading-relaxed text-sm">{description}</p>
  </div>
</div>
