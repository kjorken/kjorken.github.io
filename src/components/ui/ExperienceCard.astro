---
interface Props {
  title: string;
  company: string;
  startDate: Date;
  endDate?: Date;
  description: string;
  current?: boolean;
}

const { title, company, startDate, endDate, description, current = false } = Astro.props;

const formatDate = (date: Date) => {
  return new Date(date).toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
};
---

<div class="border-l-2 border-[--accent-primary] pl-6 pb-8 relative">
  <div class="absolute -left-3 top-0 w-5 h-5 bg-[--accent-primary] rounded-full ring-4 ring-[--bg-primary]"></div>
  
  <div class="flex flex-col gap-2">
    <div class="flex items-baseline gap-4 flex-wrap">
      <h3 class="text-lg font-semibold text-zinc-100">{title}</h3>
      <p class="text-sm text-zinc-400">{company}</p>
      {current && <span class="text-xs bg-green-900/30 text-green-300 px-2 py-1 rounded-full font-medium">Current</span>}
    </div>
    
    <p class="text-xs text-zinc-500 font-medium">
      {formatDate(startDate)} â€“ {endDate ? formatDate(endDate) : 'Present'}
    </p>
    
    <p class="text-zinc-300 mt-2 leading-relaxed">{description}</p>
  </div>
</div>
